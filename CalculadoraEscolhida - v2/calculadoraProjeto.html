<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Calculadora Financeira - CodeSensor</title>
</head>

<!--• Colocar checkbox
    • Mudar a lógica no final (60% - Quanto estaria economizando)
    • Verificação de valor inválido -->

<body>
    <div class="calculadora">
        <div class="tituloCalc">
            <h1>Calculadora Financeira</h1>
            <p>Entenda o porquê de nossa solução ser NECESSÁRIA para o seu negócio!</p>
        </div>
        <div class="inputsCalc">
            <div class="perguntaCalc">
                <h3>Selecione o tipo de carne que será transportado</h3>

                <input type="checkbox" name="bovina" id="check_bovina"><label for="bovina">Bovina</label>

                <input type="checkbox" name="suina" id="check_suina"><label for="suina">Suina</label>

                <input type="checkbox" name="aves" id="check_aves"><label for="aves">Aves</label>

                <p>Quantidade da Frota de Caminhões:</p>

                <input type="number" id="input_qtd_veiculos" placeholder="15"><br>
            </div>
            <div class="perguntaCalc">
                <p>Em média, qual é a carga máxima durante o transporte? (Em kg)</p>
                <input type="number" id="input_max_carga" placeholder="10000"><br>
            </div>
            <div class="perguntaCalc">
                <p>Em média, quantos carregamentos CADA caminhão executa diariamente?</p>
                <input type="number" id="input_carregamentos_dia" placeholder="4"><br>

            </div>

            <button onclick="calcularPerdas()">Calcular</button>
        </div>
    </div>
    <div id="div_resultado">



</body>

</html>

<script>

    function calcularPerdas() {
        const qtd_veiculos = Number(input_qtd_veiculos.value);
        const maxCarga = Number(input_max_carga.value);
        const carregamentosDia = Number(input_carregamentos_dia.value);

        let valorBovinaKG = 0;
        let valorSuinaKG = 0;
        let valorAvesKG = 0;
        let qtdCarnes = 0;

        if (check_bovina.checked) {

            valorBovinaKG = 30;
            qtdCarnes++;

        }

        if (check_suina.checked) {

            valorSuinaKG = 20;
            qtdCarnes++;

        }
        if (check_aves.checked) {

            valorAvesKG = 16;
            qtdCarnes++;

        }

        if (qtdCarnes > 0 && qtd_veiculos > 0 && maxCarga > 0 && carregamentosDia > 0) {

            let valorCarnes = ((valorAvesKG + valorBovinaKG + valorSuinaKG) / qtdCarnes);

            let transportadoPorCarregamento = (maxCarga * valorCarnes);

            let perdasDuranteTransporte = (transportadoPorCarregamento * 0.08);

            let valorPerdidoMensalmente = (perdasDuranteTransporte * qtd_veiculos) * (carregamentosDia * 30);

            let diminuicaoPerdas = (valorPerdidoMensalmente * 0.60);

            div_resultado.innerHTML =
                `
            <div class="resultadoCalc">
             <div class="cardResultado">
                    <p id="p_introducao1"></p>
                    <h1 style="color: #1db70f;" id="h1_resultado1"></h1>
                    <p id="p_descrição1"></p>
                </div>
                <div class="cardResultado">
                    <p id="p_introducao2"></p>
                    <h1 style="color: #d10000;" id="h1_resultado2"></h1>
                    <p id="p_descrição2"></p>
                </div>
                <div class="cardResultado">
                    <p id="p_introducao3"></p>
                    <h1 style="color: #d10000;" id="h1_resultado3"></h1>
                    <p id="p_descrição3"></p>
                </div>
                <div class="cardResultado">
                    <p id="p_introducao4"></p>
                    <h1 style="color: #1db70f;" id="h1_resultado4"></h1>
                    <p id="p_descrição4"></p>
                </div>
            </div>
            `

            p_introducao1.innerHTML = `Com uma carga média de ${maxCarga}kg por veículo, você terá:
            <br>
            <span class = textoVerde>R$${transportadoPorCarregamento.toLocaleString('pt-BR')}</span>
            <br>
            sendo transportado por carregamento.`

            p_introducao2.innerHTML = `De acordo com a nossa equipe em média é estimado <b>8% de perdas</b> durante transporte:
            <br>
            <span class = textoVermelho>R$${perdasDuranteTransporte.toLocaleString('pt-BR')}</span>
            <br>
            em média será perdido a cada carregamento.`

            p_introducao3.innerHTML = `Com ${qtd_veiculos} veículos, executando ${carregamentosDia} carregamentos <b>por dia</b>, <br> você terá em média:
            <br>
            <span class = textoVermelho>R$${valorPerdidoMensalmente.toLocaleString('pt-BR')}</span>
            <br>
            perdidos mensalmente.`

            p_introducao4.innerHTML = `Com a nossa solução, você conseguirá <b>uma diminuição de 60% das suas perdas</b>, conseguindo uma economia de até:
            <br>
            <span class = textoVerde>R$${diminuicaoPerdas.toLocaleString('pt-BR')}</span>
            <br>
            ou seja, diminuindo a perda de R$${valorPerdidoMensalmente.toLocaleString('pt-BR')} para R$${(valorPerdidoMensalmente - diminuicaoPerdas).toLocaleString('pt-BR')} mensalmente.`

        } else if (qtd_veiculos <= 0 || maxCarga <= 0 || carregamentosDia <= 0) {

            alert(`Algum valor inserido é inválido. Por favor, verifique todos os valores e tente novamente.`);
            
        } else if (qtdCarnes == 0) {
            
            alert(`Por favor, selecione o tipo de carne`)
            
        }

    }


</script>